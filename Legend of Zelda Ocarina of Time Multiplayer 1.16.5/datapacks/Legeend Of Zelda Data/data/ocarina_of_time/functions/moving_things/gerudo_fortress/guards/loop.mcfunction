execute as @a if entity @s[tag=GerudoCaught] run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_caught

#Locate
execute if block -72 67 1988 minecraft:air as @e[type=armor_stand,tag=GerudoGuard] at @s unless entity @s[tag=Kill] unless entity @s[tag=Stun] positioned ^ ^ ^4 if entity @a[distance=..7] run tag @s add Locate
execute as @e[type=armor_stand,tag=GerudoGuard] at @s positioned ^ ^ ^4 unless entity @a[distance=..7] run tag @s remove Locate
execute as @e[type=armor_stand,tag=GerudoGuard,tag=Locate] at @s anchored eyes positioned ^ ^ ^ anchored feet run function ocarina_of_time:enemies/ray_cast
execute as @e[type=armor_stand,tag=GerudoGuard,tag=Attack] at @s run tag @a add GerudoCaught

execute if block -72 67 1988 minecraft:air as @e[type=armor_stand,tag=PermanentGerudo] at @s unless entity @s[tag=Kill] unless entity @s[tag=Stun] positioned ^ ^ ^4 if entity @a[distance=..7] run tag @s add Locate
execute as @e[type=armor_stand,tag=PermanentGerudo] at @s positioned ^ ^ ^4 unless entity @a[distance=..7] run tag @s remove Locate
execute as @e[type=armor_stand,tag=PermanentGerudo,tag=Locate] at @s anchored eyes positioned ^ ^ ^ anchored feet run function ocarina_of_time:enemies/ray_cast
execute as @e[type=armor_stand,tag=PermanentGerudo,tag=Attack] at @s run tag @a add GerudoCaught

execute if block -72 67 1988 minecraft:air if entity @a[x=-39,y=77,z=1978,dx=9,dy=13,dz=1] run tag @a add GerudoCaught

#Talk
execute if block -72 67 1988 minecraft:gold_block run tag @e[type=armor_stand,tag=GerudoGuard] add Npc

#Guard 1
execute unless entity @e[type=armor_stand,tag=GerudoGuard1] run summon minecraft:armor_stand -88 70 1997 {Tags:["GerudoGuard","GerudoGuard1"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[-90f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard1] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_1

#Guard 2
execute unless entity @e[type=armor_stand,tag=GerudoGuard2] run summon minecraft:armor_stand -76 70 2003 {Tags:["GerudoGuard","GerudoGuard2"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[180f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard2] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_2

#Guard 3
execute unless entity @e[type=armor_stand,tag=GerudoGuard3] run summon minecraft:armor_stand -64 70 2003 {Tags:["GerudoGuard","GerudoGuard3"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[0f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard3] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_3

#Guard 4
execute unless entity @e[type=armor_stand,tag=GerudoGuard4] run summon minecraft:armor_stand -45 77 1992 {Tags:["GerudoGuard","GerudoGuard4"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[-90f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard4] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_4

#Guard 5
execute unless entity @e[type=armor_stand,tag=GerudoGuard5] run summon minecraft:armor_stand -143 41 1976 {Tags:["GerudoGuard","GerudoGuard5"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[180f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard5] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_5

#Guard 6
execute unless entity @e[type=armor_stand,tag=GerudoGuard6] run summon minecraft:armor_stand -140 41 1978 {Tags:["GerudoGuard","GerudoGuard6"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[0f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard6] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_6

#Guard 7
execute unless entity @e[type=armor_stand,tag=GerudoGuard7] run summon minecraft:armor_stand -69 43 1954 {Tags:["GerudoGuard","GerudoGuard7"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[0f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard7] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_7

#Guard 8
execute unless entity @e[type=armor_stand,tag=GerudoGuard8] run summon minecraft:armor_stand -74 43 1939 {Tags:["GerudoGuard","GerudoGuard8"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[90f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard8] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_8

#Guard 9
execute unless entity @e[type=armor_stand,tag=GerudoGuard9] run summon minecraft:armor_stand -68 43 1930 {Tags:["GerudoGuard","GerudoGuard9"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[-90f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard9] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_9

#Guard 10
execute unless entity @e[type=armor_stand,tag=GerudoGuard10] run summon minecraft:armor_stand -120 43 1948 {Tags:["GerudoGuard","GerudoGuard10"],Marker:1b,NoGravity:1b,Invisible:1b,Rotation:[180f],ArmorItems:[{id:"leather_boots",Count:1,tag:{display:{color:11337883}}},{id:"leather_leggings",Count:1,tag:{display:{color:11337883}}},{id:"leather_chestplate",Count:1,tag:{display:{color:11337883}}},{id:"player_head",Count:1,tag:{SkullOwner:{Name:"Gerudo 2",Id:[I;-336270410,1810514831,-1096173370,-1095843804],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjZiMWU4ZWFlZGE5ZGM5OWU5OWRlMzFlNTI1NzdiNDc1MGRiNDgxYjc2M2JjNmE2OWRhM2Q4NDdlNGEzNiJ9fX0="}]}}}}],HandItems:[{id:stone,Count:1b,tag:{CustomModelData:18}},{id:stone,Count:1b,tag:{CustomModelData:17}}],DisabledSlots:4144959,Pose:{RightArm:[-40f,0f,0f]}}
execute as @e[type=armor_stand,tag=GerudoGuard10] at @s run function ocarina_of_time:moving_things/gerudo_fortress/guards/guard_10
